
\begin{tikzpicture}

\pgfplotstableread[col sep=tab]{img/image_text/wcet-eff-1.0.txt}{\datatableninty}
\begin{groupplot}[
    group style={
        group name=plots,
        group size=1 by 1,
        xlabels at=edge bottom,
        xticklabels at=edge bottom,
        vertical sep=5pt
    },
axis x line* = bottom,
xlabel near ticks,
major x tick style = transparent,
xlabel={},
height=3.0cm,
width=0.95\textwidth,
xmin=0,
xmax=15,
enlargelimits=false,
tick align = outside,
tick style={white},
ylabel style={align=center},
ytick=\empty,
ymin=0,
ymax=15,
ytick={0,5,10,15,20},
yticklabels={,5,10,15,20},
ylabel={\tiny Energy Above \\ {\tiny Optimal (\%)} \\ {\tiny (lower is better)}},
legend cell align=left, 
legend style={ column sep=1ex },
ymajorgrids,
grid style={dashed},
]

\nextgroupplot[ybar=\pgflinewidth,
bar width=3.0pt,
ylabel shift={0mm},
xticklabel shift={0pt},
ymin=0,
ymax=90,
ytick={0.0,30.0,60.0,90.0},
yticklabels={,30.0,60.0,90.0},
x tick label style={rotate=35, anchor=east},
xtick={1,2,3,4,5,6,7,8,9,10,11,12,13,14},
xticklabels={
{\tiny $\mathsf{bodytrack}$},
{\tiny $\mathsf{facesim}$},
{\tiny $\mathsf{ferret}$},
{\tiny $\mathsf{heartwall}$},
{\tiny $\mathsf{kmeans}$},
{\tiny $\mathsf{leukocyte}$},
{\tiny $\mathsf{lud}$},
{\tiny $\mathsf{radar}$},
{\tiny $\mathsf{sha}$},
{\tiny $\mathsf{srad}$},
{\tiny $\mathsf{stream}$},
{\tiny $\mathsf{x264-ducks}$},
{\tiny $\mathsf{x264-native}$},
{\tiny $\mathsf{Average}$}},
]

\addplot[color=RACE, fill=RACE]       table[x index=0,y index=3] {\datatableninty};
\addplot[color=NETFLIX, fill=NETFLIX]     table[x index=0,y index=6] {\datatableninty};
\addplot[color=HBM, fill=HBM]   table[x index=0,y index=7] {\datatableninty};
\addplot[color=POET, fill=POET] table[x index=0,y index=9] {\datatableninty};
\addplot[color=CALOREE-HBM, fill=CALOREE-HBM]     table[x index=0,y index=13] {\datatableninty};

\end{groupplot}


\end{tikzpicture}
